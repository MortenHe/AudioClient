<!--Wrapper fuer sichtbare Elemte, waehrend Anwendung laueft -->
<div *ngIf="!(shutdown$ | async); else shutdownTemp"
     class="app-content container no-gutters p-0 shadow">

    <!-- 1. Zeile: Countdown, Connection und Shutdown -->
    <div class="header row no-gutters align-items-center py-1 px-2">

        <!-- Countdown -->
        <countdown class="ml-auto"></countdown>

        <!-- Zustand der WSS-Verbindung -->
        <connection></connection>

        <!-- Shutdown -->
        <picontrol></picontrol>
    </div>

    <!-- 2. Zeile: Suchfeld -->
    <div class="d-flex mx-2 mt-3">

        <!-- Suchfeld: Label besteht auch Icon und Input -->
        <label class="search-field form-control d-flex no-gutters align-items-center p-1"
               for="searchField">

            <!-- Such-Symbol -->
            <i class="fa fa-search ml-2"></i>

            <!-- Suchefeld -->
            <input [formControl]="searchField"
                   autofocus
                   autocomplete="off"
                   id="searchField"
                   placeholder="Liste durchsuchen"
                   class="col ml-2"
                   id="search"
                   type="search"
                   name="search">
        </label>
    </div>

    <!-- 3. Zeile: Trefferliste der Dateisuche -->
    <div class="mx-2 mt-3">
        <div *ngFor="let searchFile of searchFiles | searchFilter:searchTerm | slice:0:10"
             (click)=addItem(searchFile)>
            - {{searchFile.path | fileName}}
        </div>
    </div>

    <hr>

    <!-- Sortierbare Mix-Uebersicht (bereits existierende Dateien aus Ordner + neu aus Suche hinzugefuegte Dateien) -->
    <div class="mx-2 mt-3">
        <div [sortablejs]="mixFiles">
            <div *ngFor="let mixFile of mixFiles, index as index"
                 class="d-flex">
                - {{mixFile.path | fileName:mixFile.type === 'old'}}

                <!-- Titel aus Liste loeschen -->
                <i class="ml-auto fa fa-trash"
                   (click)="removeItem(index, mixFile)"></i>
            </div>
        </div>
    </div>

    <hr>

    <!-- Anederungen auf Server speichern -->
    <button class="mx-2 mb-2 btn btn-primary"
            (click)="saveChanges()">Speichern</button>
</div>

<!-- Anzeigen, wenn Pi heruntergefahren wurde -->
<ng-template #shutdownTemp>
    <div class="container mr-0 ml-0 no-gutters text-center">
        Der Player wurde beendet.
    </div>
</ng-template>